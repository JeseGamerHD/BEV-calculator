<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Range Anti-Anxiety</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/inputs.css">
    <link rel="stylesheet" href="styles/results.css">
    <script type="module" src="scripts/main.js" defer></script>
</head>
<body>
    
    <!--The top navigation bar -->
    <div class="topbar">
        <div class="topbar-title-container">
            <h3 data-localization="general.title">Range Anti-Anxiety</h3>
            <p>v0.3.0</p>
        </div>
        <div class="language-selector-container">
            <select id="language-switcher" title="Select language">
                <option value="en" selected>English</option>
                <option value="fi">Suomi</option>
            </select>
            <button id="first-time-info-button">
                i
            </button>
        </div>
        
    </div>

    <!-- INTRODUCTION/TUTORIAL SECTION START -->
    <!--TODO: Will be removed and replaced with a first time tutorial where results are-->
    <!-- Or maybe keep, make a better tutorial and styling here? -->
    <div class="introduction-container">
        <div class="introduction">
            <div class="introduction-title-container">
                <h1 data-localization="general.title">Range Anti-Anxiety</h1>
                <p data-localization="general.subtitle">The calculator for BEV related issues</p>
            </div>
            <div class="introduction-tutorial">
                <div class="step-container">
                    <div class="step">1.</div>
                    <p data-localization="tutorial.step1">Start by entering a desired range and basic details about your car.</p>
                </div>
                <div class="step-container">
                    <div class="step">2.</div>
                    <p data-localization="tutorial.step2">Set the charge power and the price of using it. You can also add another set for comparison.</p>
                </div>
                <div class="step-container">
                    <div class="step">3.</div>
                    <p data-localization="tutorial.step3">See the results. Play around with values to see how they affect the results.</p>
                </div>
            </div>
        </div>
    </div>
    <!-- INTRODUCTION/TUTORIAL SECTION END -->

    <!-- CALCULATOR CONTAINER HOLDS INPUT + RESULTS -->
    <div class="calculator-container">
        
        <!-- INPUT AREA CONTAINER -->
        <div class="input-area-container">
            <div class="input-area-wrapper">
                <div class="numberInput-container">
                    <div class="numberInput-title-wrapper">  
                        <h3 class="numberInput-title" data-localization="inputs.distance.title">Distance (km)</h3>
                        <div class="tooltip-container" data-tooltipkey="inputs.distance.tooltip"></div>
                    </div>
                    <div class="numberInput-field-wrapper">
                        <input class="numberInput-field" id="desiredRange-input" data-type="integer" type="text" min="0" max="9999" data-value="" data-property="desiredRange" data-localization-placeholder="inputs.distance.placeholder" placeholder="Enter target range (optional)">
                    </div>
                </div>
        
                <div class="rangeInput-container">
                    <h3 class="rangeInput-title" data-localization="inputs.stateOfCharge.title"><strong>State of Charge</strong> (SOC)</h3>
                    <div class="rangeInput-field-wrapper">
                        <input class="rangeInput-field" id="SOC-field" data-type="integer" type="text" data-target="SOC-slider" min="0" max="100" data-value="" data-property="stateOfCharge">
                        <span class="rangeInput-field-symbol">%</span>
                    </div> 
                    <input class="rangeInput" id="SOC-slider" type="range" min="0" max="100" data-target="SOC-field" data-property="stateOfCharge">
                </div>
    
                <span class="divider-line"></span>
        
                <div class="dropdownInput-container">
                    <div class="dropdown-title-wrapper">
                        <h3 class="dropdown-title" data-localization="inputs.batteryCapacity.title"><strong>Battery Capacity</strong> (kWh)</h3>
                        <button class="dropdown-button" data-options="batteryCapacity-options"></button>
                    </div>
                    <div class="dropdown-wrapper">
                        <input class="dropdownInput-field" id="batteryCapacity-input" data-property="batteryCapacity" data-options="batteryCapacity-options" data-type="decimal" type="text" min="0" max="9999" data-value="" data-localization-placeholder="inputs.batteryCapacity.placeholder" placeholder="Enter or select battery capacity">             
                        <div class="dropdown-content" id="batteryCapacity-options">
                            <p class="dropdown-tip" data-localization="inputs.batteryCapacity.tip">Enter or select a value:</p>
                            <div class="dropdown-option" data-value="30" data-target="batteryCapacity-input" data-localization="inputs.batteryCapacity.options.small">Small Batteries (30 kWh)</div>
                            <div class="dropdown-option" data-value="45" data-target="batteryCapacity-input" data-localization="inputs.batteryCapacity.options.light">Light Batteries (45 kWh)</div>
                            <div class="dropdown-option" data-value="60" data-target="batteryCapacity-input" data-localization="inputs.batteryCapacity.options.midSize">Mid-size Batteries (60 kWh)</div>
                            <div class="dropdown-option" data-value="85" data-target="batteryCapacity-input" data-localization="inputs.batteryCapacity.options.midSizePlus">Mid-size+ Batteries (85 kWh)</div>
                            <div class="dropdown-option" data-value="120" data-target="batteryCapacity-input" data-localization="inputs.batteryCapacity.options.large">Large Batteries (120 kWh)</div>
                            <div class="dropdown-option" data-value="150" data-target="batteryCapacity-input" data-localization="inputs.batteryCapacity.options.extraLarge">Extra Large Batteries (150 kWh)</div>
                        </div>
                    </div>
                </div>
        
                <div class="dropdownInput-container">
                    <div class="dropdown-title-wrapper">
                        <h3 class="dropdown-title" data-localization="inputs.energyConsumption.title"><strong>Energy Consumption</strong> (kWh / 100 km)</h3>
                        <button class="dropdown-button" data-options="energyConsumption-options"></button>
                    </div>
                    <div class="dropdown-wrapper">
                        <input class="dropdownInput-field" id="energyConsumption-input" data-property="bevEnergyConsumption" data-options="energyConsumption-options" data-type="decimal" type="text" min="0" max="999" data-value="" data-localization-placeholder="inputs.energyConsumption.placeholder" placeholder="Enter or select energy consumption">             
                        <div class="dropdown-content" id="energyConsumption-options">
                            <p class="dropdown-tip" data-localization="inputs.energyConsumption.tip">Enter or select a value:</p>
                            <div class="dropdown-option" data-value="12" data-target="energyConsumption-input" data-localization="inputs.energyConsumption.options.smallCity">Small & City Cars (12 kWh/100 km)</div>
                            <div class="dropdown-option" data-value="15" data-target="energyConsumption-input" data-localization="inputs.energyConsumption.options.light">Light Vehicles (15 kWh/100 km)</div>
                            <div class="dropdown-option" data-value="19" data-target="energyConsumption-input" data-localization="inputs.energyConsumption.options.midSize">Mid-size Cars (19 kWh /100 km)</div>
                            <div class="dropdown-option" data-value="22" data-target="energyConsumption-input" data-localization="inputs.energyConsumption.options.midSizeSUV">Mid-size SUVs (22 kWh /100 km)</div>
                            <div class="dropdown-option" data-value="25" data-target="energyConsumption-input" data-localization="inputs.energyConsumption.options.trucksSUV">Trucks & Large SUVs (25 kWh /100 km)</div>
                            <div class="dropdown-option" data-value="30" data-target="energyConsumption-input" data-localization="inputs.energyConsumption.options.largeTrucks">Large Trucks (30 kWh /100 km)</div>
                        </div>
                    </div>
                </div>
    
                <span class="divider-line"></span>
        
                <div class="dropdownInput-container">
                    <div class="dropdown-title-wrapper">
                        <h3 class="dropdown-title" data-localization="inputs.chargePower.title">OPTION 1: <strong>Charge Power</strong> (kW)</h3>
                        <button class="dropdown-button" data-options="chargePower-options"></button>
                    </div>
                    <div class="dropdown-wrapper">
                        <input class="dropdownInput-field" id="chargePower-input" data-property="chargerPower" data-options="chargePower-options" data-type="decimal" type="text" min="0" max="999" data-value="" data-localization-placeholder="inputs.chargePower.placeholder" placeholder="Enter or select charge power">             
                        <div class="dropdown-content" id="chargePower-options">
                            <p class="dropdown-tip" data-localization="inputs.chargePower.tip">Enter or select a value:</p>
                            <div class="dropdown-option" data-value="1.4" data-target="chargePower-input" data-localization="inputs.chargePower.options.acSlow1">[AC] Slow Charging (1.4 kW)</div>
                            <div class="dropdown-option" data-value="3" data-target="chargePower-input" data-localization="inputs.chargePower.options.acSlow3">[AC] Slow Charging (3 kW)</div>
                            <div class="dropdown-option" data-value="7.4" data-target="chargePower-input" data-localization="inputs.chargePower.options.acMedium">[AC] Medium-speed Charging (7.4 kW)</div>
                            <div class="dropdown-option" data-value="22" data-target="chargePower-input" data-localization="inputs.chargePower.options.acFast">[AC] Fast Charging (22 kW)</div>
                            <div class="dropdown-option" data-value="50" data-target="chargePower-input" data-localization="inputs.chargePower.options.dcSlow">[DC] Slow Charging (50 kW)</div>
                            <div class="dropdown-option" data-value="100" data-target="chargePower-input" data-localization="inputs.chargePower.options.dcMedium">[DC] Medium-speed Charging (100 kW)</div>
                            <div class="dropdown-option" data-value="150" data-target="chargePower-input" data-localization="inputs.chargePower.options.dcFast">[DC] Fast Charging (150 kW)</div>
                            <div class="dropdown-option" data-value="250" data-target="chargePower-input" data-localization="inputs.chargePower.options.dcUltraFast">[DC] Ultra Fast Charging (250 kW)</div>
                        </div>
                    </div>
                </div>
        
                <div class="toggleInput-container">

                    <div class="toggleInput-title-container">
                        <div class="toggle-title-wrapper left-title">
                            <h3 data-localization="inputs.price.title">Price</h3>
                            <div class="tooltip-container" data-tooltipkey="inputs.price.tooltip"></div>
                        </div>
                        <div class="toggle-title-wrapper right-title">
                            <h3 data-localization="inputs.pricingModel.title">Pricing model</h3>
                            <div class="tooltip-container" data-tooltipkey="inputs.pricingModel.tooltip"></div>
                        </div>
                    </div>

                    <div class="toggleInput-wrapper">
                        <input class="toggleInput-field" data-type="decimal" type="text" min="0" max="999" data-value="" data-property="energyPrice" step="0.01" data-localization-placeholder="inputs.price.placeholder" placeholder="Enter price"></input>
                        <div class="toggleInput-switch" id="pricing-toggle" data-property="pricingModel">
                            <div class="toggleInput-track">
                                <div class="toggleInput-thumb" id="pricing-thumb"></div>
                            </div>
                            <div class="toggleInput-content">
                                <span class="toggle-option left" data-localization-tooltip="inputs.pricingModel.tooltipLeft" title="Price of electricity in kilowatt hours. Charging cost will be calculated based on energy charged." data-value="energy" data-localization="inputs.price.perKWh">€/kWh</span>
                                <span class="toggle-option right" data-localization-tooltip="inputs.pricingModel.tooltipRight" title="Price of electricity per hour of use. Charging cost will be calculated based on charging time." data-value="time" data-localization="inputs.price.perHour">€/h</span>
                            </div>
                        </div>
                    </div>

                </div>

                <button id="addChargerPriceComparison" data-localization="inputs.comparison.addButton">+ Add Comparison</button>

                <div class="chargerPricingAlt-wrapper" id="chargerPricingAlt-wrapper" style="visibility: none;">
                    <div class="dropdownInput-container">                    
                        <div class="dropdown-title-wrapper">
                            <h3 class="dropdown-title" data-localization="inputs.comparison.option2Title">OPTION 2: <strong>Charge Power</strong> (kW)</h3>
                            <button class="removeComparison" id="removeChargerPriceComparison" data-localization-tooltip="inputs.comparison.removeButtonTip" title="Removes the alternate charge power & pricing">
                                <img src="images/icons/deleteIcon1.png">
                                <span data-localization="inputs.comparison.removeButton">Remove</span>
                            </button>
                            <span class="filler"></span>
                            <button class="dropdown-button" data-options="chargePower-options-alt"></button>
                        </div>
                        <div class="dropdown-wrapper">
                            <input class="dropdownInput-field" id="chargePower-input-alt" data-property="chargerPowerAlt" data-options="chargePower-options-alt" data-type="decimal" type="text" min="0" max="999" data-value="" data-localization-placeholder="inputs.chargePower.placeholder" placeholder="Enter or select charge power">             
                            <div class="dropdown-content" id="chargePower-options-alt">
                                <p class="dropdown-tip" data-localization="inputs.chargePower.tip">Enter or select a value:</p>
                                <div class="dropdown-option" data-value="1.4" data-target="chargePower-input-alt" data-localization="inputs.chargePower.options.acSlow1">[AC] Slow Charging (1.4 kW)</div>
                                <div class="dropdown-option" data-value="3" data-target="chargePower-input-alt" data-localization="inputs.chargePower.options.acSlow3">[AC] Slow Charging (3 kW)</div>
                                <div class="dropdown-option" data-value="7.4" data-target="chargePower-input-alt" data-localization="inputs.chargePower.options.acMedium">[AC] Medium-speed Charging (7.4 kW)</div>
                                <div class="dropdown-option" data-value="22" data-target="chargePower-input-alt" data-localization="inputs.chargePower.options.acFast">[AC] Fast Charging (22 kW)</div>
                                <div class="dropdown-option" data-value="50" data-target="chargePower-input-alt" data-localization="inputs.chargePower.options.dcSlow">[DC] Slow Charging (50 kW)</div>
                                <div class="dropdown-option" data-value="100" data-target="chargePower-input-alt" data-localization="inputs.chargePower.options.dcMedium">[DC] Medium-speed Charging (100 kW)</div>
                                <div class="dropdown-option" data-value="150" data-target="chargePower-input-alt" data-localization="inputs.chargePower.options.dcFast">[DC] Fast Charging (150 kW)</div>
                                <div class="dropdown-option" data-value="250" data-target="chargePower-input-alt" data-localization="inputs.chargePower.options.dcUltraFast">[DC] Ultra Fast Charging (250 kW)</div>
                            </div>
                        </div>
                    </div>
            
                    <div class="toggleInput-container">
                        <div class="toggleInput-title-container">
                            <div class="toggle-title-wrapper left-title">
                                <h3 data-localization="inputs.price.title">Price</h3>
                                <div class="tooltip-container" data-tooltipkey="inputs.price.tooltip"></div>
                            </div>
                            <div class="toggle-title-wrapper right-title">
                                <h3 data-localization="inputs.pricingModel.title">Pricing model</h3>
                                <div class="tooltip-container" data-tooltipkey="inputs.pricingModel.tooltip"></div>
                            </div>
                        </div>
                        <div class="toggleInput-wrapper">
                            <input class="toggleInput-field" data-type="decimal" type="text" min="0" max="999" data-value="" data-property="energyPriceAlt" step="0.01" data-localization-placeholder="inputs.price.placeholder" placeholder="Enter price"></input>
                            <div class="toggleInput-switch" id="pricing-toggle-alt" data-property="pricingModelAlt" data-value="energy">
                                <div class="toggleInput-track">
                                    <div class="toggleInput-thumb" id="pricing-thumb-alt"></div>
                                </div>
                                <div class="toggleInput-content">
                                    <span class="toggle-option left" data-value="energy" data-localization="inputs.price.perKWh" data-localization-tooltip="inputs.pricingModel.tooltipLeft" title="Price of electricity in kilowatt hours. Charging cost will be calculated based on energy charged.">€/kWh</span>
                                    <span class="toggle-option right" data-value="time" data-localization="inputs.price.perHour" data-localization-tooltip="inputs.pricingModel.tooltipRight" title="Price of electricity per hour of use. Charging cost will be calculated based on charging time.">€/h</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
                
        </div> 
        <!-- END OF INPUT AREA CONTAINER -->

        <!-- RESULTS AREA CONTAINER -->
        
        <div class="oikea-puoli-sivusta"> 
            <div class="first-time-use">
                <div class="first-time-content">
                <h2 data-localization="firstUse.title">Welcome to Range Anti-Anxiety</h2>
                <h3 data-localization="firstUse.description">Easily budget your ev usage</h3>
                
                <div class="first-time-steps">
                    <div class="first-time-step">
                        <div class="step-number">1.</div>
                        <p data-localization="firstUse.step1">Enter your desired range and car details</p>
                    </div>
                    <div class="first-time-step">
                        <div class="step-number">2.</div>
                        <p data-localization="firstUse.step2">Set charging power and pricing</p>
                    </div>
                    <div class="first-time-step">
                        <div class="step-number">3.</div>
                        <p data-localization="firstUse.step3">See detailed results and compare options</p>
                    </div>
                </div>
                <button class="first-time-button" id="start-calculator" data-localization="firstUse.startButton">Start Using Calculator</button>
                </div>
            </div>

            <div class="results-content">
            <div class="left-side">
                <h1 data-localization="results.distance.title">Distance</h1>
                <div id="desiredRange" class="spaced-div">TEST</div>

                <div class="header-wrapper">
                    <h5 data-localization="results.chargingTime.title">Charging Time</h5>
                    <h5 id="header-span" class="header-span" data-localization="results.chargingTime.multipleCharges">Multiple charges</h5>
                </div>
                    
                    <div id="chargeTimeForRange" class="spaced-div single-option">Charge time needed for range: </div>
                    
                <div id="chargeTimeComparisonContainer" class="multiple-options" style="display: none;">
                    <div class="optionTextWrapper">
                        <div id="chargeTimeForRangeOption1" data-localization="results.chargingTime.option1">Charge time for range option 1: </div>
                        <div class="option-span" id="chargerPowerOption1-1"></div>
                    </div>
                    <div id="comparisonBarRangeTime1" class="comparison-bar spaced-div"></div>
                    
                    <div class="optionTextWrapper">
                        <div id="chargeTimeForRangeOption2" data-localization="results.chargingTime.option2">Charge time for range option 2: </div>
                        <div class="option-span" id="chargerPowerOption2-1"></div>
                    </div>
                    <div id="comparisonBarRangeTime2" class="comparison-bar spaced-div"></div>
                </div>
               
                <h5 data-localization="results.chargingCosts.title">Charging Costs</h5>
                <div id="chargeCostRange" class="spaced-div single-option" data-localization="results.chargingCosts.forRange">Charge cost in €/kWh for desired range: </div>

                <div id="chargeCostComparisonContainer" class="multiple-options" style="display: none;">
                    <div class="optionTextWrapper">
                        <div id="chargeCostForRangeOption1" data-localization="results.chargingCosts.option1">Charge cost in €/kWh for range option 1: </div>
                        <div class="option-span" id="energyPriceOption1-1"></div>
                    </div>
                    <div id="comparisonBarRangeCost1" class="comparison-bar spaced-div"></div>

                    <div class="optionTextWrapper">
                        <div id="chargeCostForRangeOption2" data-localization="results.chargingCosts.option2">Charge cost in €/kWh for range option 2: </div>
                        <div class="option-span" id="energyPriceOption2-1"></div>
                    </div>
                    <div id="comparisonBarRangeCost2" class="comparison-bar spaced-div"></div>
                </div>
    
                <h5 data-localization="results.energy.title">Energy</h5>
                <div id="energyNeededForRange" data-localization="results.energy.forRange">Energy needed for range: </div>
            </div>
              
            <div class="middle">
                <h1 data-localization="results.untilFull.title">Until Full (SOC)</h1>
                <div id="fullCharge" class="spaced-div" data-localization="results.untilFull.fullCharge">100%</div>
    
                <h5 data-localization="results.untilFull.chargingTime.title">Charging Time</h5>
                <div id="chargeTimeForFullCharge" class="spaced-div single-option" data-localization="results.untilFull.chargingTime.forFull">Charge time for full charge: </div>

                <div id="chargeTimeComparisonContainerFullCharge" class="multiple-options" style="display: none;">
                    <div class="optionTextWrapper">
                        <div id="chargeTimeForFullChargeOption1" data-localization="results.untilFull.chargingTime.option1">Charge time for full charge option 1: </div>
                        <div class="option-span" id="chargerPowerOption1-2"></div>
                    </div>
                    <div id="comparisonBarFullChargeTime1" class="comparison-bar spaced-div"></div>

                    <div class="optionTextWrapper">
                        <div id="chargeTimeForFullChargeOption2" data-localization="results.untilFull.chargingTime.option2">Charge time for full charge option 2: </div>
                        <div class="option-span" id="chargerPowerOption2-2"></div>
                    </div>
                    
                    <div id="comparisonBarFullChargeTime2" class="comparison-bar spaced-div"></div>
                </div>
    
                <h5 data-localization="results.untilFull.chargingCosts.title">Charging Costs</h5>
                <div id="chargeCostFullCharge" class="spaced-div single-option" data-localization="results.untilFull.chargingCosts.forFull">Charge cost in €/kWh for full charge: </div>
            
                <div id="chargeCostComparisonContainerFullCharge" class="multiple-options" style="display: none;">
                    <div class="optionTextWrapper">
                        <div id="chargeCostForFullChargeOption1" data-localization="results.untilFull.chargingCosts.option1">Charge cost in €/kWh for full charge option 1: </div>
                        <div class="option-span" id="energyPriceOption1-2"></div>
                    </div>
                    <div id="comparisonBarFullChargeCost1" class="comparison-bar spaced-div"></div>

                    <div class="optionTextWrapper">
                        <div id="chargeCostForFullChargeOption2" data-localization="results.untilFull.chargingCosts.option2">Charge cost in €/kWh for full charge option 2: </div>
                        <div class="option-span" id="energyPriceOption2-2"></div>
                    </div>
                    <div id="comparisonBarFullChargeCost2" class="comparison-bar spaced-div"></div>
                </div>
    
                <h5 data-localization="results.untilFull.energy.title">Energy</h5>
                <div id="energyToFullCharge" data-localization="results.untilFull.energy.forFull">Energy needed for full charge: </div>
            </div>
    
            <div class="right-side">
                <h1 data-localization="results.stateOfCharge.title">State of Charge</h1>
                <div id="stateOfCharge" class="spaced-div" data-localization="results.stateOfCharge.soc">SOC: </div>
    
                <h5 data-localization="results.operatingRange.title">Distance</h5>
                <div id="currentOperatingRange" data-localization="results.operatingRange.range">Operation range: </div>
            </div>
        </div>        
        </div>
        <!--END OF RESULTS CONTAINER -->

    </div>
    <!-- END OF CALCULATOR CONTAINER -->

    <!--All tooltip containers utilize the same html element, a script just changes its position and content -->
    <div style="display: none;" id="tooltip" data-localization="inputs.pricingModel.tooltip"></div>
    <!--Other hidden elements that scripts use-->
    <div style="display: none;" data-localization="results.chargingCosts.priceNotSet">Price not set</div>
    <div style="display: none;" data-localization="results.chargingCosts.chargerNotSet">Charge power not set</div>
    <div style="display: none;" data-localization="results.chargingTime.notNeeded">Charging not needed</div>
    
</body>
</html>